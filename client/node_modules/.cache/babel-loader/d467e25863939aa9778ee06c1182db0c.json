{"remainingRequest":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/babel-loader/lib/index.js!/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/src/components/RestaurantDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/src/components/RestaurantDetails.vue","mtime":1636054833876},{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGxhdExuZyB9IGZyb20gImxlYWZsZXQiOwppbXBvcnQgeyBMTWFwLCBMVGlsZUxheWVyIH0gZnJvbSAidnVlMi1sZWFmbGV0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZXN0YXVyYW50RGV0YWlscycsCiAgY29tcG9uZW50czogewogICAgTE1hcDogTE1hcCwKICAgIExUaWxlTGF5ZXI6IExUaWxlTGF5ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICByZXN0YXVyYW50OiBudWxsLAogICAgICBub3RlOiAwLAogICAgICB6b29tOiAxMywKICAgICAgY2VudGVyOiBudWxsLAogICAgICB1cmw6ICdodHRwOi8ve3N9LnRpbGUub3NtLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPSJodHRwOi8vb3NtLm9yZy9jb3B5cmlnaHQiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycycsCiAgICAgIG1hcE9wdGlvbnM6IHsKICAgICAgICB6b29tU25hcDogMC41CiAgICAgIH0sCiAgICAgIHNob3dNYXA6IHRydWUsCiAgICAgIGZhdm9yaXM6IFtdLAogICAgICBpc0Zhdm9yaXM6IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHt9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICBham91dGVyRmF2b3JpczogZnVuY3Rpb24gYWpvdXRlckZhdm9yaXMoKSB7CiAgICAgIHRoaXMuZmF2b3Jpcy5wdXNoKHRoaXMucmVzdGF1cmFudC5faWQpOwogICAgICB0aGlzLmlzRmF2b3JpcyA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCJBam91dCBmYXZvcmlzIik7CiAgICAgIHRoaXMuc2F2ZUZhdm9yaXMoKTsKICAgIH0sCiAgICBzdXBwcmltZXJGYXZvcmlzOiBmdW5jdGlvbiBzdXBwcmltZXJGYXZvcmlzKCkgewogICAgICB0aGlzLmZhdm9yaXMuc3BsaWNlKHRoaXMuZmF2b3Jpcy5pbmRleE9mKHRoaXMucmVzdGF1cmFudC5faWQsIDEpKTsKICAgICAgdGhpcy5pc0Zhdm9yaXMgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2coIlN1cHByZXNzaW9uIGZhdm9yaXMiKTsKICAgICAgdGhpcy5zYXZlRmF2b3JpcygpOwogICAgfSwKICAgIHNhdmVGYXZvcmlzOiBmdW5jdGlvbiBzYXZlRmF2b3JpcygpIHsKICAgICAgdmFyIHBhcnNlID0gSlNPTi5zdHJpbmdpZnkodGhpcy5mYXZvcmlzKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zhdm9yaXMnLCBwYXJzZSk7CiAgICAgIGNvbnNvbGUubG9nKCJTYXV2ZWdhcmRlIGRlcyBmYXZvcmlzIik7CiAgICB9LAogICAgem9vbVVwZGF0ZTogZnVuY3Rpb24gem9vbVVwZGF0ZSh6b29tKSB7CiAgICAgIHRoaXMuY3VycmVudFpvb20gPSB6b29tOwogICAgfSwKICAgIGNlbnRlclVwZGF0ZTogZnVuY3Rpb24gY2VudGVyVXBkYXRlKGNlbnRlcikgewogICAgICB0aGlzLmN1cnJlbnRDZW50ZXIgPSBjZW50ZXI7CiAgICB9LAogICAgc2hvd0xvbmdUZXh0OiBmdW5jdGlvbiBzaG93TG9uZ1RleHQoKSB7CiAgICAgIHRoaXMuc2hvd1BhcmFncmFwaCA9ICF0aGlzLnNob3dQYXJhZ3JhcGg7CiAgICB9LAogICAgaW5uZXJDbGljazogZnVuY3Rpb24gaW5uZXJDbGljaygpIHsKICAgICAgYWxlcnQoIkNsaWNrISIpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgY29uc29sZS5sb2codGhpcy5pZCk7CgogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmYXZvcmlzIikpIHsKICAgICAgdGhpcy5mYXZvcmlzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZmF2b3JpcyIpKTsKCiAgICAgIGlmICh0aGlzLmZhdm9yaXMuaW5kZXhPZih0aGlzLmlkKSA+PSAwKSB7CiAgICAgICAgdGhpcy5pc0Zhdm9yaXMgPSB0cnVlOwogICAgICB9CiAgICB9CgogICAgdmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3Jlc3RhdXJhbnRzLycgKyB0aGlzLmlkOwogICAgZmV0Y2godXJsLCB7CiAgICAgIG1ldGhvZDogJ2dldCcKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5yZXN0YXVyYW50ID0gcmVzLnJlc3RhdXJhbnQ7CiAgICAgICAgX3RoaXMuY2VudGVyID0gbGF0TG5nKF90aGlzLnJlc3RhdXJhbnQuYWRkcmVzcy5jb29yZFsxXSwgX3RoaXMucmVzdGF1cmFudC5hZGRyZXNzLmNvb3JkWzBdKTsKICAgICAgfSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["RestaurantDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"RestaurantDetail\">\n\n<div class=\"md-layout\">\n      <div class=\"md-layout-item\">\n        <h1>{{restaurant.name}}</h1>\n        <h2>{{restaurant.cuisine}}</h2>\n        <i class=\"el-icon-star-on\" v-for=\"i in note\" :key=\"i\"></i>\n      </div>\n      <div class=\"md-layout-item\"></div>\n      <div class=\"md-layout-item\" style=\"text-align: right;\">\n        <img src=\"../assets/heart-icon.png\" alt=\"LIKED\" width=\"30px\" @click=\"supprimerFavoris\" v-if=\"isFavoris\">\n        <md-button class=\"md-accent\" @click=\"ajouterFavoris\" v-else>Ajouter aux favoris</md-button>\n      </div>\n    </div>\n\n  <div class=\"md-layout-item md-layout md-gutter\">\n        <div class=\"md-layout-item\">\n          <img v-bind:src=\"'https://loremflickr.com/1024/576/food,street,restaurant,cafe&id=' + restaurant._id\" alt=\"photoRestaurant\">\n        </div>\n\n        <div class=\"md-layout-item md-size-30\">\n          <div>\n            <h2>{{restaurant.address.building}} {{restaurant.address.street}}<br>{{restaurant.borough}}, {{restaurant.address.zipcode}}</h2>\n          </div>\n          <div id=\"map\">\n            <l-map :center=\"center\" :zoom=\"13\">\n              <l-tile-layer :url=\"url\" :attribution=\"attribution\"></l-tile-layer>\n            </l-map>\n          </div>\n\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport { latLng } from \"leaflet\";\nimport { LMap, LTileLayer} from \"vue2-leaflet\";\n\nexport default {\n  name: 'RestaurantDetails',\n  components: {\n    LMap,\n    LTileLayer,\n  \n  },\n  data: function () {\n        return{\n          id : this.$route.params.id,\n          restaurant: null,\n          note : 0,\n          zoom: 13,\n          center: null,\n          url: 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',\n          attribution:\n            '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n          mapOptions: {\n            zoomSnap: 0.5\n          },\n          showMap: true,\n          favoris : [],\n          isFavoris : false\n          \n        }\n    },\n  props: {\n   \n  },\n  computed : {\n      \n  },\n  methods : {\n    ajouterFavoris() {\n      this.favoris.push(this.restaurant._id);\n      this.isFavoris = true;\n      console.log(\"Ajout favoris\");\n      this.saveFavoris();\n    },\n    supprimerFavoris() {\n      this.favoris.splice(this.favoris.indexOf(this.restaurant._id, 1));\n      this.isFavoris = false\n      console.log(\"Suppression favoris\");\n      this.saveFavoris();\n    },\n    saveFavoris(){\n      const parse = JSON.stringify(this.favoris);\n      localStorage.setItem('favoris', parse);\n      console.log(\"Sauvegarde des favoris\")\n    },\n    zoomUpdate(zoom) {\n    this.currentZoom = zoom;\n    },\n    centerUpdate(center) {\n      this.currentCenter = center;\n    },\n    showLongText() {\n      this.showParagraph = !this.showParagraph;\n    },\n    innerClick() {\n      alert(\"Click!\");\n    }\n  },\n  mounted() {\n        console.log(this.id)\n\n        if(localStorage.getItem(\"favoris\")){\n          this.favoris = JSON.parse(localStorage.getItem(\"favoris\"));\n          if(this.favoris.indexOf(this.id) >= 0){\n            this.isFavoris = true;\n          }\n\n        }\n\n        let url = 'http://localhost:8080/api/restaurants/' + this.id;\n\n        fetch(url, {\n            method: 'get'\n        }).then((response) => {\n            response.json().then((res) => {\n                this.restaurant = res.restaurant;\n                \n                this.center = latLng(this.restaurant.address.coord[1],this.restaurant.address.coord[0])\n            });\n        }).catch(function(err) { \n            console.log(err);\n        });\n\n        \n      \n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n.RestaurantDetail {\n  text-align: left;\n  margin-left: 5%;\n  margin-right: 5%;\n  margin-bottom: 5%;\n  margin-top: 1%;\n}\n\n#map {\n  width: 80%;\n  height: 300px;\n  margin: auto;\n}\n\n\n</style>\n"],"sourceRoot":"src/components"}]}