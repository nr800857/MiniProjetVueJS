{"remainingRequest":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/src/components/Restaurant.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/src/components/Restaurant.vue","mtime":1636036581628},{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/remynguyen/Documents/MIAGE/M1/Javascript/TP3/tp3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxhdExuZyB9IGZyb20gImxlYWZsZXQiOwppbXBvcnQgeyBMTWFwLCBMVGlsZUxheWVyfSBmcm9tICJ2dWUyLWxlYWZsZXQiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZXN0YXVyYW50JywKICBjb21wb25lbnRzOiB7CiAgICBMTWFwLAogICAgTFRpbGVMYXllciwKICAKICB9LAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGlkIDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICAgICAgICByZXN0YXVyYW50OiBudWxsLAogICAgICAgICAgICB6b29tOiAxMywKICAgICAgICAgICAgY2VudGVyOiBudWxsLAogICAgICAgICAgICB1cmw6ICdodHRwOi8ve3N9LnRpbGUub3NtLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICBhdHRyaWJ1dGlvbjoKICAgICAgICAgICAgICAnJmNvcHk7IDxhIGhyZWY9Imh0dHA6Ly9vc20ub3JnL2NvcHlyaWdodCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJywKICAgICAgICAgICAgbWFwT3B0aW9uczogewogICAgICAgICAgICAgIHpvb21TbmFwOiAwLjUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvd01hcDogdHJ1ZSwKICAgICAgICAgICAgZmF2b3JpcyA6IFtdLAogICAgICAgICAgICBpc0Zhdm9yaXMgOiBmYWxzZQogICAgICAgICAgfQogICAgfSwKICBjb21wdXRlZCA6IHsKICAgICAgCiAgfSwKICBtZXRob2QgOiB7CiAgICBham91dGVyRmF2b3JpcygpIHsKICAgICAgY29uc29sZS5sb2coIkFBQUEiKQogICAgICAvL3RoaXMuZmF2b3Jpcy5wdXNoKHRoaXMucmVzdGF1cmFudC5faWQpOwogICAgICAvL3RoaXMuc2F2ZUZhdm9yaXMoKTsKICAgIH0sCiAgICB1bmVGb25jdGlvbigpewogICAgICBjb25zb2xlLmxvZygiQUFBQUEiKQogICAgfSwKICAgIHN1cHByaW1lckZhdm9yaXMoKSB7CiAgICAgIHRoaXMuZmF2b3Jpcy5zcGxpY2UodGhpcy5mYXZvcmlzLmluZGV4T2YodGhpcy5yZXN0YXVyYW50Ll9pZCwgMSkpOwogICAgICB0aGlzLnNhdmVGYXZvcmlzKCk7CiAgICB9LAogICAgc2F2ZUZhdm9yaXMoKXsKICAgICAgY29uc3QgcGFyc2UgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmZhdm9yaXMpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmF2b3JpcycsIHBhcnNlKTsKICAgIH0sCiAgICB6b29tVXBkYXRlKHpvb20pIHsKICAgIHRoaXMuY3VycmVudFpvb20gPSB6b29tOwogICAgfSwKICAgIGNlbnRlclVwZGF0ZShjZW50ZXIpIHsKICAgICAgdGhpcy5jdXJyZW50Q2VudGVyID0gY2VudGVyOwogICAgfSwKICAgIHNob3dMb25nVGV4dCgpIHsKICAgICAgdGhpcy5zaG93UGFyYWdyYXBoID0gIXRoaXMuc2hvd1BhcmFncmFwaDsKICAgIH0sCiAgICBpbm5lckNsaWNrKCkgewogICAgICBhbGVydCgiQ2xpY2shIik7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaWQpCgogICAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmYXZvcmlzIikpewogICAgICAgICAgdGhpcy5mYXZvcmlzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZmF2b3JpcyIpKTsKICAgICAgICAgIGlmKHRoaXMuZmF2b3Jpcy5pbmRleE9mKHRoaXMuaWQpID49IDApewogICAgICAgICAgICB0aGlzLmlzRmF2b3JpcyA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgIH0KCiAgICAgICAgbGV0IHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3Jlc3RhdXJhbnRzLycgKyB0aGlzLmlkOwoKICAgICAgICBmZXRjaCh1cmwsIHsKICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucmVzdGF1cmFudCA9IHJlcy5yZXN0YXVyYW50OwogICAgICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBsYXRMbmcodGhpcy5yZXN0YXVyYW50LmFkZHJlc3MuY29vcmRbMV0sdGhpcy5yZXN0YXVyYW50LmFkZHJlc3MuY29vcmRbMF0pCiAgICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikgeyAKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKCiAgICAgICAgCiAgICAgIAogICAgfQp9Cg=="},{"version":3,"sources":["Restaurant.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA","file":"Restaurant.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"restaurant\">\n\n    <md-button class=\"md-accent\" @click=\"ajouterFavoris\">Ajouter aux favoris</md-button>\n\n    <div class=\"md-layout\">\n      <div class=\"md-layout-item\">\n        <h1>{{restaurant.name}}</h1>\n        <h2>{{restaurant.cuisine}}</h2>\n      </div>\n      <div class=\"md-layout-item\"></div>\n      <div class=\"md-layout-item\" style=\"text-align: right;\">\n        <img src=\"../assets/heart-icon.png\" alt=\"LIKED\" width=\"30px\">\n        <md-button class=\"md-accent\">Ajouter aux favoris</md-button>\n      </div>\n    </div>\n\n  <div class=\"md-layout-item md-layout md-gutter\">\n        <div class=\"md-layout-item\">\n          <img v-bind:src=\"'https://loremflickr.com/1024/576/food,street,restaurant,cafe&id=' + restaurant._id\" alt=\"photoRestaurant\">\n        </div>\n\n        <div class=\"md-layout-item md-size-30\">\n          <div>\n            <h2>{{restaurant.address.building}} {{restaurant.address.street}}<br>{{restaurant.borough}}, {{restaurant.address.zipcode}}</h2>\n          </div>\n          <div id=\"map\">\n            <l-map :center=\"center\" :zoom=\"13\">\n              <l-tile-layer :url=\"url\" :attribution=\"attribution\"></l-tile-layer>\n            </l-map>\n          </div>\n\n        </div>\n      </div>\n     \n   \n  </div>\n</template>\n\n<script>\nimport { latLng } from \"leaflet\";\nimport { LMap, LTileLayer} from \"vue2-leaflet\";\n\nexport default {\n  name: 'Restaurant',\n  components: {\n    LMap,\n    LTileLayer,\n  \n  },\n  data: function () {\n        return{\n            id : this.$route.params.id,\n            restaurant: null,\n            zoom: 13,\n            center: null,\n            url: 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',\n            attribution:\n              '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n            mapOptions: {\n              zoomSnap: 0.5\n            },\n            showMap: true,\n            favoris : [],\n            isFavoris : false\n          }\n    },\n  computed : {\n      \n  },\n  method : {\n    ajouterFavoris() {\n      console.log(\"AAAA\")\n      //this.favoris.push(this.restaurant._id);\n      //this.saveFavoris();\n    },\n    uneFonction(){\n      console.log(\"AAAAA\")\n    },\n    supprimerFavoris() {\n      this.favoris.splice(this.favoris.indexOf(this.restaurant._id, 1));\n      this.saveFavoris();\n    },\n    saveFavoris(){\n      const parse = JSON.stringify(this.favoris);\n      localStorage.setItem('favoris', parse);\n    },\n    zoomUpdate(zoom) {\n    this.currentZoom = zoom;\n    },\n    centerUpdate(center) {\n      this.currentCenter = center;\n    },\n    showLongText() {\n      this.showParagraph = !this.showParagraph;\n    },\n    innerClick() {\n      alert(\"Click!\");\n    }\n  },\n  mounted() {\n        console.log(this.id)\n\n        if(localStorage.getItem(\"favoris\")){\n          this.favoris = JSON.parse(localStorage.getItem(\"favoris\"));\n          if(this.favoris.indexOf(this.id) >= 0){\n            this.isFavoris = true;\n          }\n\n        }\n\n        let url = 'http://localhost:8080/api/restaurants/' + this.id;\n\n        fetch(url, {\n            method: 'get'\n        }).then((response) => {\n            response.json().then((res) => {\n                this.restaurant = res.restaurant;\n                this.center = latLng(this.restaurant.address.coord[1],this.restaurant.address.coord[0])\n            });\n        }).catch(function(err) { \n            console.log(err);\n        });\n\n        \n      \n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n.restaurant {\n  text-align: left;\n  margin-left: 5%;\n  margin-right: 5%;\n  margin-bottom: 5%;\n  margin-top: 5%;\n}\n\n#map {\n  width: 80%;\n  height: 300px;\n  margin: auto;\n}\n\n</style>\n"]}]}